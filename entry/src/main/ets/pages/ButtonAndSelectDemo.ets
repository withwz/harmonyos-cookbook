import router from '@ohos.router'

/**
 * æŒ‰é’®ä¸é€‰æ‹©ç»„ä»¶æ¼”ç¤º
 * å±•ç¤º Buttonã€Toggleã€Checkboxã€Radioã€Sliderã€Selectã€DatePickerã€TimePicker çš„ç”¨æ³•
 */

@Entry
@Component
struct ButtonAndSelectDemo {
  // Button ç›¸å…³çŠ¶æ€
  @State buttonText: string = 'ç‚¹å‡»æˆ‘'
  @State clickCount: number = 0

  // Toggle ç›¸å…³çŠ¶æ€
  @State toggleOn: boolean = false
  @State switchOn: boolean = false
  @State checkboxOn: boolean = false

  // Checkbox å¤šé€‰çŠ¶æ€
  @State selectedHobbies: Array<string> = []

  // Radio å•é€‰çŠ¶æ€
  @State selectedGender: string = 'male'

  // Slider æ»‘åŠ¨æ¡çŠ¶æ€
  @State sliderValue: number = 50
  @State volumeValue: number = 30

  // Select ä¸‹æ‹‰é€‰æ‹©çŠ¶æ€
  @State selectIndex: number = 0
  @State selectedCity: string = 'åŒ—äº¬'

  // DatePicker æ—¥æœŸé€‰æ‹©çŠ¶æ€
  @State selectedDate: Date = new Date()

  // TimePicker æ—¶é—´é€‰æ‹©çŠ¶æ€
  @State selectedTime: Date = new Date()

  // å¯é€‰åŸå¸‚åˆ—è¡¨
  private cities: Array<string> = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æ­å·']

  // çˆ±å¥½åˆ—è¡¨
  private hobbies: Array<string> = ['é˜…è¯»', 'è¿åŠ¨', 'éŸ³ä¹', 'æ—…è¡Œ', 'æ¸¸æˆ']

  aboutToAppear() {
    this.selectedHobbies = []
  }

  build() {
    Scroll() {
      Column({ space: 20 }) {
        this.Header()

        // Button æ¼”ç¤º
        this.ButtonSection()

        // Toggle æ¼”ç¤º
        this.ToggleSection()

        // Checkbox æ¼”ç¤º
        this.CheckboxSection()

        // Radio æ¼”ç¤º
        this.RadioSection()

        // Slider æ¼”ç¤º
        this.SliderSection()

        // Select æ¼”ç¤º
        this.SelectSection()

        // DatePicker æ¼”ç¤º
        this.DatePickerSection()

        // TimePicker æ¼”ç¤º
        this.TimePickerSection()

        this.TipCard('æŒ‰é’®ä¸é€‰æ‹©ç»„ä»¶è¦ç‚¹ï¼šæŒæ¡å„ç§äº¤äº’ç»„ä»¶çš„çŠ¶æ€ç®¡ç†å’Œäº‹ä»¶å¤„ç†')
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 20, bottom: 20 })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }

  // ==================== å¤´éƒ¨ ====================

  @Builder
  Header() {
    Row() {
      Button() {
        Text('â†')
          .fontSize(20)
          .fontColor(Color.White)
      }
      .width(40)
      .height(40)
      .backgroundColor('#007DFF')
      .borderRadius(20)
      .onClick(() => {
        router.back()
      })

      Text('æŒ‰é’®ä¸é€‰æ‹©ç»„ä»¶')
        .fontSize(24)
        .fontWeight(FontWeight.Bold)
        .layoutWeight(1)
        .textAlign(TextAlign.Center)
        .margin({ right: 40 })
    }
    .width('100%')
  }

  // ==================== Button æŒ‰é’® ====================

  @Builder
  ButtonSection() {
    Column({ space: 12 }) {
      Text('Button æŒ‰é’®')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      // æ™®é€šæŒ‰é’®
      Column({ space: 8 }) {
        Text('æ™®é€šæŒ‰é’®ç±»å‹')
          .fontSize(14)
          .fontColor('#666')

        Row({ space: 12 }) {
          Button('æ™®é€šæŒ‰é’®')
            .fontSize(14)

          Button('èƒ¶å›ŠæŒ‰é’®')
            .fontSize(14)
            .type(ButtonType.Capsule)

          Button('åœ†å½¢æŒ‰é’®')
            .fontSize(14)
            .type(ButtonType.Circle)
            .width(50)
            .height(50)
        }
        .width('100%')
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)

      // ä¸åŒçŠ¶æ€æŒ‰é’®
      Column({ space: 8 }) {
        Text('æŒ‰é’®çŠ¶æ€')
          .fontSize(14)
          .fontColor('#666')

        Row({ space: 12 }) {
          Button('æ™®é€š')
            .fontSize(14)
            .enabled(true)

          Button('ç¦ç”¨')
            .fontSize(14)
            .enabled(false)

          Button('ç‚¹å‡»æ¬¡æ•°: ' + this.clickCount)
            .fontSize(14)
            .backgroundColor('#007DFF')
            .onClick(() => {
              this.clickCount++
            })
        }
        .width('100%')
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)

      // è‡ªå®šä¹‰æ ·å¼æŒ‰é’®
      Column({ space: 8 }) {
        Text('è‡ªå®šä¹‰æ ·å¼')
          .fontSize(14)
          .fontColor('#666')

        Row({ space: 12 }) {
          Button('ä¸»è¦')
            .fontSize(14)
            .backgroundColor('#007DFF')
            .borderRadius(8)

          Button('æˆåŠŸ')
            .fontSize(14)
            .backgroundColor('#52C41A')
            .borderRadius(8)

          Button('è­¦å‘Š')
            .fontSize(14)
            .backgroundColor('#FAAD14')
            .borderRadius(8)

          Button('å±é™©')
            .fontSize(14)
            .backgroundColor('#FF4D4F')
            .borderRadius(8)
        }
        .width('100%')
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== Toggle å¼€å…³ ====================

  @Builder
  ToggleSection() {
    Column({ space: 12 }) {
      Text('Toggle å¼€å…³')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      // Toggle ç±»å‹
      Row({ space: 24 }) {
        // Checkbox ç±»å‹
        Column({ space: 8 }) {
          Toggle({ type: ToggleType.Checkbox, isOn: this.checkboxOn })
            .selectedColor('#007DFF')
            .onChange((isOn: boolean) => {
              this.checkboxOn = isOn
            })
          Text('Checkbox')
            .fontSize(12)
            .fontColor('#666')
        }

        // Switch ç±»å‹
        Column({ space: 8 }) {
          Toggle({ type: ToggleType.Switch, isOn: this.switchOn })
            .selectedColor('#007DFF')
            .onChange((isOn: boolean) => {
              this.switchOn = isOn
            })
          Text('Switch')
            .fontSize(12)
            .fontColor('#666')
        }

        // Button ç±»å‹
        Column({ space: 8 }) {
          Toggle({ type: ToggleType.Button, isOn: this.toggleOn })
            .selectedColor('#007DFF')
            .onChange((isOn: boolean) => {
              this.toggleOn = isOn
            })
          Text('Button')
            .fontSize(12)
            .fontColor('#666')
        }
      }
      .width('100%')
      .padding(20)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)

      // çŠ¶æ€æ˜¾ç¤º
      Row() {
        Text('å½“å‰çŠ¶æ€: ')
          .fontSize(14)
          .fontColor('#666')
        Text(`Checkbox: ${this.checkboxOn}, Switch: ${this.switchOn}, Button: ${this.toggleOn}`)
          .fontSize(14)
          .fontColor('#007DFF')
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#E6F7FF')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== Checkbox å¤šé€‰æ¡† ====================

  @Builder
  CheckboxSection() {
    Column({ space: 12 }) {
      Text('Checkbox å¤šé€‰æ¡†')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      Text('é€‰æ‹©ä½ çš„çˆ±å¥½ï¼ˆå¯å¤šé€‰ï¼‰:')
        .fontSize(14)
        .fontColor('#666')

      // çˆ±å¥½é€‰æ‹©
      Column({ space: 12 }) {
        ForEach(this.hobbies, (hobby: string) => {
          Row() {
            Checkbox({ name: hobby })
              .select(this.selectedHobbies.includes(hobby))
              .selectedColor('#007DFF')
              .onChange((isSelected: boolean) => {
                if (isSelected) {
                  this.selectedHobbies.push(hobby)
                } else {
                  const index = this.selectedHobbies.indexOf(hobby)
                  if (index > -1) {
                    const newHobbies: string[] = []
                    for (let i = 0; i < this.selectedHobbies.length; i++) {
                      if (i !== index) {
                        newHobbies.push(this.selectedHobbies[i])
                      }
                    }
                    this.selectedHobbies = newHobbies
                  }
                }
              })

            Text(hobby)
              .fontSize(16)
              .margin({ left: 8 })
          }
          .width('100%')
        })
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)

      // é€‰ä¸­ç»“æœ
      if (this.selectedHobbies.length > 0) {
        Text(`å·²é€‰æ‹©: ${this.selectedHobbies.join(', ')}`)
          .fontSize(14)
          .fontColor('#52C41A')
          .width('100%')
          .padding(12)
          .backgroundColor('#F6FFED')
          .borderRadius(8)
      }
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== Radio å•é€‰æ¡† ====================

  @Builder
  RadioSection() {
    Column({ space: 12 }) {
      Text('Radio å•é€‰æ¡†')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      Text('é€‰æ‹©æ€§åˆ«:')
        .fontSize(14)
        .fontColor('#666')

      // æ€§åˆ«é€‰æ‹©
      Row({ space: 24 }) {
        Row({ space: 8 }) {
          Radio({ value: 'male', group: 'gender' })
            .checked(this.selectedGender === 'male')
            .onChange((isChecked: boolean) => {
              if (isChecked) {
                this.selectedGender = 'male'
              }
            })

          Text('ç”·')
            .fontSize(16)
        }

        Row({ space: 8 }) {
          Radio({ value: 'female', group: 'gender' })
            .checked(this.selectedGender === 'female')
            .onChange((isChecked: boolean) => {
              if (isChecked) {
                this.selectedGender = 'female'
              }
            })

          Text('å¥³')
            .fontSize(16)
        }
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)

      // é€‰ä¸­ç»“æœ
      Text(`å·²é€‰æ‹©: ${this.selectedGender === 'male' ? 'ç”·' : 'å¥³'}`)
        .fontSize(14)
        .fontColor('#007DFF')
        .width('100%')
        .padding(12)
        .backgroundColor('#E6F7FF')
        .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== Slider æ»‘åŠ¨æ¡ ====================

  @Builder
  SliderSection() {
    Column({ space: 12 }) {
      Text('Slider æ»‘åŠ¨æ¡')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      // è¿›åº¦æ¡ç¤ºä¾‹
      Column({ space: 8 }) {
        Row() {
          Text('è¿›åº¦')
            .fontSize(14)
            .fontColor('#666')

          Text(`${Math.round(this.sliderValue)}%`)
            .fontSize(14)
            .fontColor('#007DFF')
            .margin({ left: 'auto' })
        }
        .width('100%')

        Slider({
          value: this.sliderValue,
          min: 0,
          max: 100,
          step: 1
        })
          .width('100%')
          .trackColor('#E6E6E6')
          .selectedColor('#007DFF')
          .showSteps(true)
          .onChange((value: number) => {
            this.sliderValue = value
          })
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)

      // éŸ³é‡æ§åˆ¶ç¤ºä¾‹
      Column({ space: 8 }) {
        Row() {
          Text('ğŸ”Š')
            .fontSize(20)

          Text(`${Math.round(this.volumeValue)}`)
            .fontSize(14)
            .fontColor('#007DFF')
            .margin({ left: 'auto' })
        }
        .width('100%')

        Slider({
          value: this.volumeValue,
          min: 0,
          max: 100,
          step: 1
        })
          .width('100%')
          .trackColor('#E6E6E6')
          .selectedColor('#52C41A')
          .blockColor('#52C41A')
          .onChange((value: number) => {
            this.volumeValue = value
          })
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== Select ä¸‹æ‹‰é€‰æ‹© ====================

  @Builder
  SelectSection() {
    Column({ space: 12 }) {
      Text('Select ä¸‹æ‹‰é€‰æ‹©')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      // åŸå¸‚é€‰æ‹©
      Column({ space: 8 }) {
        Text('é€‰æ‹©åŸå¸‚')
          .fontSize(14)
          .fontColor('#666')

        Select([
          { value: 'åŒ—äº¬' },
          { value: 'ä¸Šæµ·' },
          { value: 'å¹¿å·' },
          { value: 'æ·±åœ³' },
          { value: 'æ­å·' }
        ])
          .selected(this.selectIndex)
          .value('è¯·é€‰æ‹©åŸå¸‚')
          .font({ size: 16 })
          .selectedOptionFont({ size: 16 })
          .optionFont({ size: 16 })
          .onSelect((index: number, value: string) => {
            this.selectIndex = index
            this.selectedCity = value
          })

        // é€‰ä¸­ç»“æœ
        if (this.selectedCity) {
          Text(`å·²é€‰æ‹©: ${this.selectedCity}`)
            .fontSize(14)
            .fontColor('#007DFF')
            .margin({ top: 8 })
        }
      }
      .width('100%')
      .padding(12)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== DatePicker æ—¥æœŸé€‰æ‹© ====================

  @Builder
  DatePickerSection() {
    Column({ space: 12 }) {
      Text('DatePicker æ—¥æœŸé€‰æ‹©')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      // æ—¥æœŸé€‰æ‹©å™¨
      DatePicker({
        start: new Date('2000-01-01'),
        end: new Date('2030-12-31'),
        selected: this.selectedDate
      })
        .onChange((value: DatePickerResult) => {
          const year = value.year ?? 2000
          const month = value.month ?? 0
          const day = value.day ?? 1
          this.selectedDate = new Date(year, month, day)
        })

      // é€‰ä¸­ç»“æœæ˜¾ç¤º
      Text(`å·²é€‰æ‹©æ—¥æœŸ: ${this.selectedDate.getFullYear()}-${(this.selectedDate.getMonth() + 1).toString().padStart(2, '0')}-${this.selectedDate.getDate().toString().padStart(2, '0')}`)
        .fontSize(14)
        .fontColor('#007DFF')
        .width('100%')
        .textAlign(TextAlign.Center)
        .padding(12)
        .backgroundColor('#E6F7FF')
        .borderRadius(8)
        .margin({ top: 8 })
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== TimePicker æ—¶é—´é€‰æ‹© ====================

  @Builder
  TimePickerSection() {
    Column({ space: 12 }) {
      Text('TimePicker æ—¶é—´é€‰æ‹©')
        .fontSize(18)
        .fontWeight(FontWeight.Medium)
        .width('100%')

      // æ—¶é—´é€‰æ‹©å™¨
      TimePicker({
        selected: this.selectedTime
      })
        .onChange((value: TimePickerResult) => {
          this.selectedTime = new Date(value.hour, value.minute)
        })

      // é€‰ä¸­ç»“æœæ˜¾ç¤º
      Text(`å·²é€‰æ‹©æ—¶é—´: ${this.selectedTime.getHours().toString().padStart(2, '0')}:${this.selectedTime.getMinutes().toString().padStart(2, '0')}`)
        .fontSize(14)
        .fontColor('#007DFF')
        .width('100%')
        .textAlign(TextAlign.Center)
        .padding(12)
        .backgroundColor('#E6F7FF')
        .borderRadius(8)
        .margin({ top: 8 })
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 4, color: '#1F000000', offsetX: 0, offsetY: 2 })
  }

  // ==================== æç¤ºå¡ç‰‡ ====================

  @Builder
  TipCard(tip: string) {
    Text(tip)
      .fontSize(12)
      .fontColor('#FF6B6B')
      .width('100%')
      .padding(12)
      .backgroundColor('#FFF5F5')
      .borderRadius(8)
      .margin({ top: 10 })
  }
}
