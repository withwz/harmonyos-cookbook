import router from '@ohos.router'

/**
 * Grid å¸ƒå±€æ¼”ç¤º
 *
 * Grid æ˜¯ç½‘æ ¼å¸ƒå±€å®¹å™¨
 * å­å…ƒç´ æŒ‰è¡Œåˆ—ç½‘æ ¼æŽ’åˆ—
 */

@Entry
@Component
struct GridLayoutDemo {
  build() {
    Scroll() {
      Column({ space: 20 }) {
        this.BackButton()
        this.SectionTitle('Grid ç½‘æ ¼å¸ƒå±€')

        this.InfoCard('Grid å°†å­å…ƒç´ æŒ‰ç½‘æ ¼æŽ’åˆ—ï¼Œé€‚ç”¨äºŽç›¸å†Œã€ä¹å®«æ ¼ç­‰åœºæ™¯')

        // ç¤ºä¾‹1ï¼šåŸºç¡€ç”¨æ³•
        this.BasicSection()

        // ç¤ºä¾‹2ï¼šå›ºå®šåˆ—æ•°
        this.FixedColumnsSection()

        // ç¤ºä¾‹3ï¼šè¡Œåˆ—è·¨åº¦
        this.SpanSection()

        // ç¤ºä¾‹4ï¼šå®žæˆ˜æ¡ˆä¾‹
        this.PhotoGallerySection()

        this.TipCard('Grid è¦ç‚¹ï¼šcolumnsTemplateè®¾ç½®åˆ—æ•°ã€columnsGapè¡Œé—´è·ã€rowsGapåˆ—é—´è·')
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 20, bottom: 20 })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }

  @Builder
  BasicSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹1ï¼šåŸºç¡€ç”¨æ³• - 3åˆ—ç½‘æ ¼')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Grid() {
        ForEach(['1', '2', '3', '4', '5', '6'], (item: string) => {
          GridItem() {
            Text(item)
              .fontSize(24)
              .fontColor(Color.White)
              .width('100%')
              .height('100%')
              .backgroundColor('#007DFF')
              .borderRadius(8)
              .textAlign(TextAlign.Center)
          }
          .height(80)
        }, (item: string) => item)
      }
      .columnsTemplate('1fr 1fr 1fr')
      .columnsGap(10)
      .rowsGap(10)
      .width('100%')
      .height(280)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
  }

  @Builder
  FixedColumnsSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹2ï¼šä¸åŒåˆ—æ•°')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Column({ space: 10 }) {
        this.GridDemo('2åˆ—', '1fr 1fr', '#007DFF')
        this.GridDemo('3åˆ—', '1fr 1fr 1fr', '#52C41A')
        this.GridDemo('4åˆ—', '1fr 1fr 1fr 1fr', '#722ED1')
      }
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
  }

  @Builder
  GridDemo(label: string, template: string, color: string) {
    Column({ space: 6 }) {
      Text(label)
        .fontSize(12)
        .fontColor('#666')

      Grid() {
        ForEach(['1', '2', '3', '4'], (item: string) => {
          GridItem() {
            Text(item)
              .fontSize(16)
              .fontColor(Color.White)
              .width('100%')
              .height('100%')
              .backgroundColor(color)
              .borderRadius(6)
              .textAlign(TextAlign.Center)
          }
          .height(50)
        }, (item: string) => item)
      }
      .columnsTemplate(template)
      .columnsGap(6)
      .rowsGap(6)
      .width('100%')
      .height(120)
    }
  }

  @Builder
  SpanSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹3ï¼šè¡Œåˆ—è·¨åº¦ (columnStart/rowStart)')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Grid() {
        // è·¨2åˆ—
        GridItem() {
          Text('è·¨2åˆ—')
            .fontSize(14)
            .fontColor(Color.White)
            .width('100%')
            .height('100%')
            .backgroundColor('#007DFF')
            .textAlign(TextAlign.Center)
        }
        .columnStart(0)
        .columnEnd(1)
        .height(60)

        // æ™®é€šæ ¼å­
        GridItem() {
          Text('3')
            .fontSize(14)
            .fontColor(Color.White)
            .width('100%')
            .height('100%')
            .backgroundColor('#52C41A')
            .textAlign(TextAlign.Center)
        }
        .height(60)

        GridItem() {
          Text('4')
            .fontSize(14)
            .fontColor(Color.White)
            .width('100%')
            .height('100%')
            .backgroundColor('#52C41A')
            .textAlign(TextAlign.Center)
        }
        .height(60)

        // è·¨2è¡Œ
        GridItem() {
          Text('è·¨2è¡Œ')
            .fontSize(14)
            .fontColor(Color.White)
            .width('100%')
            .height('100%')
            .backgroundColor('#FA8C16')
            .textAlign(TextAlign.Center)
        }
        .rowStart(1)
        .rowEnd(2)
        .height(60)

        // æ™®é€šæ ¼å­
        GridItem() {
          Text('7')
            .fontSize(14)
            .fontColor(Color.White)
            .width('100%')
            .height('100%')
            .backgroundColor('#13C2C2')
            .textAlign(TextAlign.Center)
        }
        .height(60)

        GridItem() {
          Text('8')
            .fontSize(14)
            .fontColor(Color.White)
            .width('100%')
            .height('100%')
            .backgroundColor('#13C2C2')
            .textAlign(TextAlign.Center)
        }
        .height(60)
      }
      .columnsTemplate('1fr 1fr 1fr')
      .columnsGap(8)
      .rowsGap(8)
      .width('100%')
      .height(200)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
  }

  @Builder
  PhotoGallerySection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹4ï¼šå®žæˆ˜æ¡ˆä¾‹ - ç›¸å†Œç½‘æ ¼')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Grid() {
        ForEach(['ðŸŒ„', 'ðŸŒ…', 'ðŸŒ ', 'ðŸŒ‡', 'ðŸŒ‰', 'ðŸ”ï¸', 'ðŸ–ï¸', 'ðŸŒŠ', 'ðŸŒº'], (item: string) => {
          GridItem() {
            Column() {
              Text(item)
                .fontSize(32)
              Text('é£Žæ™¯')
                .fontSize(12)
                .fontColor('#666')
                .margin({ top: 4 })
            }
            .width('100%')
            .height('100%')
            .justifyContent(FlexAlign.Center)
            .backgroundColor('#F8F8F8')
            .borderRadius(8)
          }
          .height(100)
        }, (item: string) => item)
      }
      .columnsTemplate('1fr 1fr 1fr')
      .columnsGap(10)
      .rowsGap(10)
      .width('100%')
      .height(350)
    }
    .width('100%')
  }

  @Builder
  BackButton() {
    Row() {
      Button('â† è¿”å›ž')
        .fontSize(14)
        .onClick(() => {
          router.back()
        })
    }
    .width('100%')
    .margin({ bottom: 10 })
  }

  @Builder
  SectionTitle(title: string) {
    Text(title)
      .fontSize(24)
      .fontWeight(FontWeight.Bold)
      .width('100%')
  }

  @Builder
  InfoCard(info: string) {
    Text(info)
      .fontSize(14)
      .fontColor('#722ED1')
      .width('100%')
      .padding(12)
      .backgroundColor('#F9F0FF')
      .borderRadius(8)
  }

  @Builder
  TipCard(tip: string) {
    Text(tip)
      .fontSize(12)
      .fontColor('#FF6B6B')
      .width('100%')
      .padding(12)
      .backgroundColor('#FFF5F5')
      .borderRadius(8)
  }
}
