import router from '@ohos.router'

// Demo é¡¹ç›®ä¿¡æ¯æ¥å£
interface DemoItem {
  icon: string
  title: string
  description: string
  route: string
  color: string
}

@Entry
@Component
struct Index {
  @State demos: Array<DemoItem> = []

  aboutToAppear() {
    this.demos = [
      {
        icon: 'ğŸ¨',
        title: 'è£…é¥°å™¨å­¦ä¹ ',
        description: 'State/Prop/Link/Builder',
        route: 'pages/DecoratorDemo',
        color: '#007DFF'
      },
      {
        icon: 'ğŸ“',
        title: 'å¸ƒå±€å­¦ä¹ ',
        description: 'Column/Row/Grid/Flex',
        route: 'pages/LayoutDemo',
        color: '#52C41A'
      },
      {
        icon: 'ğŸ”—',
        title: 'è·¯ç”±å­¦ä¹ ',
        description: 'é¡µé¢è·³è½¬/ç”Ÿå‘½å‘¨æœŸ',
        route: 'pages/RouterDemo',
        color: '#FAAD14'
      },
      {
        icon: 'ğŸ“',
        title: 'è¯­æ³•å­¦ä¹ ',
        description: 'ArkTS vs TS',
        route: 'pages/ArkTSSyntaxDemo',
        color: '#9C27B0'
      },
      {
        icon: 'ğŸ”˜',
        title: 'æŒ‰é’®ä¸é€‰æ‹©',
        description: 'Button/Toggle/Checkboxç­‰',
        route: 'pages/ButtonAndSelectDemo',
        color: '#FF6B6B'
      },
      {
        icon: 'ğŸ–¼ï¸',
        title: 'å›¾ç‰‡ä¸è§†é¢‘',
        description: 'Image/Video',
        route: 'pages/MediaDemo',
        color: '#FA541C'
      },
      {
        icon: 'ğŸ§­',
        title: 'å¯¼èˆªä¸åˆ‡æ¢',
        description: 'Tabs/TabContent',
        route: 'pages/NavigationDemo',
        color: '#EB2F96'
      },
      {
        icon: 'ğŸ“Š',
        title: 'ä¿¡æ¯å±•ç¤º',
        description: 'Progress/Dialog',
        route: 'pages/InfoDisplayDemo',
        color: '#13C2C2'
      },
      {
        icon: 'ğŸ‘†',
        title: 'æ‰‹åŠ¿ç»„ä»¶',
        description: 'Tap/Pan/Pinch',
        route: 'pages/GestureDemo',
        color: '#A020F0'
      },
      {
        icon: 'ğŸ¬',
        title: 'åŠ¨ç”»ç»„ä»¶',
        description: 'animateTo/transition',
        route: 'pages/AnimationDemo',
        color: '#F753AB'
      },
      {
        icon: 'ğŸ’¬',
        title: 'å¼¹çª—ç»„ä»¶',
        description: 'AlertDialog/Popup',
        route: 'pages/DialogDemo',
        color: '#FF4D4F'
      },
      {
        icon: 'ğŸ¨',
        title: 'ç”»å¸ƒç»˜åˆ¶',
        description: 'Canvas 2D',
        route: 'pages/CanvasDemo',
        color: '#8E44AD'
      },
      {
        icon: 'ğŸ“¦',
        title: 'Kitå­¦ä¹ ',
        description: 'Network/Image',
        route: 'pages/KitLearningPage',
        color: '#6F42C1'
      }
    ]
  }

  build() {
    Scroll() {
      Column({ space: 16 }) {
        // é¡¶éƒ¨æ ‡é¢˜
        this.Header()

        // Demo ä¸¤åˆ—ç½‘æ ¼
        Flex({ wrap: FlexWrap.Wrap, justifyContent: FlexAlign.SpaceBetween }) {
          ForEach(this.demos, (item: DemoItem) => {
            this.DemoCard(item)
          }, (item: DemoItem) => item.route)
        }
        .width('100%')
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 20, bottom: 20 })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }

  @Builder
  Header() {
    Column({ space: 8 }) {
      Text('HarmonyOS Demo')
        .fontSize(32)
        .fontWeight(FontWeight.Bold)
        .fontColor('#1F1F1F')

      Text('ArkTS ç»„ä»¶å­¦ä¹ æ¼”ç¤º')
        .fontSize(14)
        .fontColor('#666')
    }
    .width('100%')
    .padding(20)
    .backgroundColor('#FFF7E6')
    .borderRadius(12)
  }

  @Builder
  DemoCard(item: DemoItem) {
    Column({ space: 12 }) {
      // å›¾æ ‡
      Text(item.icon)
        .fontSize(48)

      // æ ‡é¢˜
      Text(item.title)
        .fontSize(16)
        .fontWeight(FontWeight.Medium)
        .fontColor('#1F1F1F')

      // æè¿°
      Text(item.description)
        .fontSize(12)
        .fontColor('#999')
        .maxLines(1)
        .textOverflow({ overflow: TextOverflow.Ellipsis })

      // æŒ‰é’®
      Button('å¼€å§‹å­¦ä¹ ')
        .fontSize(12)
        .width('100%')
        .height(32)
        .backgroundColor(item.color)
        .borderRadius(8)
        .fontColor(Color.White)
        .onClick(() => {
          router.pushUrl({
            url: item.route
          })
        })
    }
    .width('48%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
    .shadow({ radius: 8, color: '#10000000', offsetX: 0, offsetY: 2 })
    .margin({ bottom: 12 })
  }
}
