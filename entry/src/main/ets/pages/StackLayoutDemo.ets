import router from '@ohos.router'

/**
 * Stack å¸ƒå±€æ¼”ç¤º
 *
 * Stack æ˜¯å±‚å å¸ƒå±€å®¹å™¨
 * å­å…ƒç´ å¯ä»¥å †å æ˜¾ç¤ºï¼ŒåŽæ·»åŠ çš„å…ƒç´ åœ¨ä¸Šå±‚
 */

@Entry
@Component
struct StackLayoutDemo {
  build() {
    Scroll() {
      Column({ space: 20 }) {
        this.BackButton()
        this.SectionTitle('Stack å±‚å å¸ƒå±€')

        this.InfoCard('Stack è®©å­å…ƒç´ å †å æ˜¾ç¤ºï¼Œå¸¸ç”¨äºŽå›¾ç‰‡ä¸Šçš„æ–‡å­—ã€å¡ç‰‡æ ‡ç­¾ç­‰')

        // ç¤ºä¾‹1ï¼šåŸºç¡€ç”¨æ³•
        this.BasicSection()

        // ç¤ºä¾‹2ï¼šå¯¹é½æ–¹å¼
        this.AlignSection()

        // ç¤ºä¾‹3ï¼šå®žæˆ˜æ¡ˆä¾‹
        this.ImageCardSection()
        this.BadgeSection()

        this.TipCard('Stack è¦ç‚¹ï¼šå­å…ƒç´ å †å ã€alignContentæŽ§åˆ¶å¯¹é½é¡ºåº')
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 20, bottom: 20 })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }

  @Builder
  BasicSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹1ï¼šåŸºç¡€ç”¨æ³•')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Stack() {
        // åº•å±‚
        Text('åº•å±‚å…ƒç´ ')
          .width(200)
          .height(100)
          .backgroundColor('#E6E6E6')
          .textAlign(TextAlign.Center)

        // ä¸­å±‚
        Text('ä¸­å±‚å…ƒç´ ')
          .width(150)
          .height(80)
          .backgroundColor('#D9D9D9')
          .textAlign(TextAlign.Center)

        // é¡¶å±‚
        Text('é¡¶å±‚å…ƒç´ ')
          .width(100)
          .height(60)
          .backgroundColor('#007DFF')
          .fontColor(Color.White)
          .textAlign(TextAlign.Center)
      }
      .width(220)
      .height(120)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
  }

  @Builder
  AlignSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹2ï¼šå¯¹é½æ–¹å¼ (alignContent)')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Row({ space: 12 }) {
        this.AlignDemo('TopStart', Alignment.TopStart)
        this.AlignDemo('Center', Alignment.Center)
        this.AlignDemo('BottomEnd', Alignment.BottomEnd)
      }
      .width('100%')
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
  }

  @Builder
  AlignDemo(label: string, align: Alignment) {
    Column({ space: 8 }) {
      Text(label)
        .fontSize(12)
        .fontColor('#666')

      Stack({ alignContent: align }) {
        Text('å®¹å™¨')
          .width(80)
          .height(80)
          .backgroundColor('#F8F8F8')
          .fontSize(12)
          .textAlign(TextAlign.Center)

        Text('å†…å®¹')
          .width(40)
          .height(40)
          .backgroundColor('#007DFF')
          .fontColor(Color.White)
          .fontSize(12)
          .textAlign(TextAlign.Center)
      }
      .width(80)
      .height(80)
    }
  }

  @Builder
  ImageCardSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹3ï¼šå®žæˆ˜æ¡ˆä¾‹ - å›¾ç‰‡å¡ç‰‡')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Stack({ alignContent: Alignment.BottomStart }) {
        // å›¾ç‰‡èƒŒæ™¯
        Column()
          .width('100%')
          .height(150)
          .backgroundColor('#722ED1')
          .borderRadius(8)

        // æ¸å˜é®ç½©
        Column()
          .width('100%')
          .height(60)
          .linearGradient({
            angle: 90,
            colors: [['#00000000', 0.0], ['#99000000', 1.0]]
          })
          .position({ x: 0, y: '100%' })
          .translate({ y: '-100%' })

        // æ–‡å­—å†…å®¹
        Column({ space: 4 }) {
          Text('ç²¾ç¾Žé£Žæ™¯')
            .fontSize(18)
            .fontColor(Color.White)
            .fontWeight(FontWeight.Bold)

          Text('å¤§è‡ªç„¶çš„ç¾Žæ™¯')
            .fontSize(12)
            .fontColor('#E6E6E6')
        }
        .padding(12)
      }
      .width('100%')
    }
    .width('100%')
  }

  @Builder
  BadgeSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹4ï¼šå®žæˆ˜æ¡ˆä¾‹ - æ¶ˆæ¯è§’æ ‡')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      Row({ space: 20 }) {
        // æ¶ˆæ¯å›¾æ ‡
        Stack({ alignContent: Alignment.TopEnd }) {
          Text('ðŸ’¬')
            .fontSize(40)

          Text('3')
            .width(20)
            .height(20)
            .fontSize(12)
            .fontColor(Color.White)
            .backgroundColor('#FF6B6B')
            .borderRadius(10)
            .textAlign(TextAlign.Center)
        }
        .width(50)
        .height(50)

        // é€šçŸ¥å›¾æ ‡
        Stack({ alignContent: Alignment.TopEnd }) {
          Text('ðŸ””')
            .fontSize(40)

          Text('99+')
            .width(28)
            .height(18)
            .fontSize(10)
            .fontColor(Color.White)
            .backgroundColor('#FF6B6B')
            .borderRadius(9)
            .textAlign(TextAlign.Center)
        }
        .width(50)
        .height(50)

        // è´­ç‰©è½¦å›¾æ ‡
        Stack({ alignContent: Alignment.TopEnd }) {
          Text('ðŸ›’')
            .fontSize(40)

          Text('5')
            .width(20)
            .height(20)
            .fontSize(12)
            .fontColor(Color.White)
            .backgroundColor('#52C41A')
            .borderRadius(10)
            .textAlign(TextAlign.Center)
        }
        .width(50)
        .height(50)
      }
      .width('100%')
      .justifyContent(FlexAlign.Center)
      .padding(20)
      .backgroundColor('#F8F8F8')
      .borderRadius(8)
    }
    .width('100%')
    .padding(16)
    .backgroundColor(Color.White)
    .borderRadius(12)
  }

  @Builder
  BackButton() {
    Row() {
      Button('â† è¿”å›ž')
        .fontSize(14)
        .onClick(() => {
          router.back()
        })
    }
    .width('100%')
    .margin({ bottom: 10 })
  }

  @Builder
  SectionTitle(title: string) {
    Text(title)
      .fontSize(24)
      .fontWeight(FontWeight.Bold)
      .width('100%')
  }

  @Builder
  InfoCard(info: string) {
    Text(info)
      .fontSize(14)
      .fontColor('#FF6B6B')
      .width('100%')
      .padding(12)
      .backgroundColor('#FFF5F5')
      .borderRadius(8)
  }

  @Builder
  TipCard(tip: string) {
    Text(tip)
      .fontSize(12)
      .fontColor('#FF6B6B')
      .width('100%')
      .padding(12)
      .backgroundColor('#FFF5F5')
      .borderRadius(8)
  }
}
