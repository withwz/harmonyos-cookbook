import router from '@ohos.router'

/**
 * List å¸ƒå±€æ¼”ç¤º
 *
 * List æ˜¯å¯æ»šåŠ¨åˆ—è¡¨å®¹å™¨
 * é€‚ç”¨äºæ˜¾ç¤ºå¤§é‡æ•°æ®ï¼Œæ”¯æŒæ‡’åŠ è½½
 */

interface ListItemData {
  title: string
  desc: string
  icon: string
}

interface SettingItem {
  title: string
  icon: string
}

@Entry
@Component
struct ListLayoutDemo {
  private chatList: Array<ListItemData> = []

  private settingsList: Array<SettingItem> = []

  aboutToAppear() {
    this.chatList = [
      { title: 'å¼ ä¸‰', desc: 'ä½ å¥½ï¼Œåœ¨å—ï¼Ÿ', icon: 'ğŸ‘¤' },
      { title: 'æå››', desc: 'å‘¨æœ«æœ‰ç©ºä¸€èµ·åƒé¥­å—', icon: 'ğŸ‘©' },
      { title: 'ç‹äº”', desc: 'é¡¹ç›®è¿›å±•å¦‚ä½•äº†', icon: 'ğŸ§‘' },
      { title: 'äº§å“ç¾¤', desc: '[å›¾ç‰‡]', icon: 'ğŸ‘¥' },
      { title: 'å¼€å‘ç¾¤', desc: '@æ‰€æœ‰äºº è¯·æ³¨æ„', icon: 'ğŸ’¬' }
    ]

    this.settingsList = [
      { title: 'è´¦å·ä¸å®‰å…¨', icon: 'ğŸ”’' },
      { title: 'é€šçŸ¥è®¾ç½®', icon: 'ğŸ””' },
      { title: 'éšç§è®¾ç½®', icon: 'ğŸ›¡ï¸' },
      { title: 'é€šç”¨è®¾ç½®', icon: 'âš™ï¸' },
      { title: 'å…³äº', icon: 'â„¹ï¸' }
    ]
  }

  build() {
    Scroll() {
      Column({ space: 20 }) {
        this.BackButton()
        this.SectionTitle('List åˆ—è¡¨å¸ƒå±€')

        this.InfoCard('List æ˜¯å¯æ»šåŠ¨åˆ—è¡¨å®¹å™¨ï¼Œæ”¯æŒçºµå‘å’Œæ¨ªå‘æ»šåŠ¨')

        // ç¤ºä¾‹1ï¼šåŸºç¡€åˆ—è¡¨
        this.BasicSection()

        // ç¤ºä¾‹2ï¼šåˆ†ç»„åˆ—è¡¨
        this.GroupSection()

        // ç¤ºä¾‹3ï¼šæ¨ªå‘åˆ—è¡¨
        this.HorizontalSection()

        // ç¤ºä¾‹4ï¼šå®æˆ˜æ¡ˆä¾‹
        this.ChatListSection()
        this.SettingsListSection()

        this.TipCard('List è¦ç‚¹ï¼šå¿…é¡»æä¾›å”¯ä¸€keyã€æ”¯æŒæ‡’åŠ è½½ã€spaceè®¾ç½®é¡¹é—´è·')
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 20, bottom: 20 })
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#F5F5F5')
  }

  @Builder
  BasicSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹1ï¼šåŸºç¡€åˆ—è¡¨')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      List({ space: 8 }) {
        ForEach(['é¡¹ç›®1', 'é¡¹ç›®2', 'é¡¹ç›®3', 'é¡¹ç›®4', 'é¡¹ç›®5'], (item: string) => {
          ListItem() {
            Row() {
              Text(item)
                .fontSize(14)
                .layoutWeight(1)

              Text('>')
                .fontSize(14)
                .fontColor('#999')
            }
            .width('100%')
            .padding(16)
            .backgroundColor(Color.White)
            .borderRadius(8)
          }
        }, (item: string) => item)
      }
      .width('100%')
      .height(200)
    }
    .width('100%')
  }

  @Builder
  GroupSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹2ï¼šåˆ†ç»„åˆ—è¡¨ (ListItemGroup)')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      List() {
        // åˆ†ç»„1
        ListItemGroup({ header: this.GroupHeader('Aç»„'), footer: this.GroupFooter('å…±3é¡¹') }) {
          ForEach(['A1', 'A2', 'A3'], (item: string) => {
            ListItem() {
              Text(item)
                .fontSize(14)
                .width('100%')
                .padding(12)
                .textAlign(TextAlign.Center)
                .backgroundColor('#F8F8F8')
                .borderRadius(4)
            }
          }, (item: string) => item)
        }

        // åˆ†ç»„2
        ListItemGroup({ header: this.GroupHeader('Bç»„'), footer: this.GroupFooter('å…±2é¡¹') }) {
          ForEach(['B1', 'B2'], (item: string) => {
            ListItem() {
              Text(item)
                .fontSize(14)
                .width('100%')
                .padding(12)
                .textAlign(TextAlign.Center)
                .backgroundColor('#F8F8F8')
                .borderRadius(4)
            }
          }, (item: string) => item)
        }
      }
      .width('100%')
      .height(240)
    }
    .width('100%')
  }

  @Builder
  GroupHeader(title: string) {
    Text(title)
      .fontSize(14)
      .fontWeight(FontWeight.Medium)
      .width('100%')
      .padding(12)
      .backgroundColor('#E6E6E6')
  }

  @Builder
  GroupFooter(desc: string) {
    Text(desc)
      .fontSize(12)
      .fontColor('#999')
      .width('100%')
      .padding(8)
      .textAlign(TextAlign.Center)
  }

  @Builder
  HorizontalSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹3ï¼šæ¨ªå‘åˆ—è¡¨ (listDirection)')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      List({ space: 12 }) {
        ForEach(['æ¨è1', 'æ¨è2', 'æ¨è3', 'æ¨è4', 'æ¨è5'], (item: string) => {
          ListItem() {
            Column({ space: 8 }) {
              Text('ğŸ¬')
                .fontSize(32)

              Text(item)
                .fontSize(12)
                .fontColor('#666')
            }
            .width(100)
            .height(120)
            .justifyContent(FlexAlign.Center)
            .backgroundColor('#F8F8F8')
            .borderRadius(8)
          }
        }, (item: string) => item)
      }
      .listDirection(Axis.Horizontal)
      .width('100%')
      .height(150)
    }
    .width('100%')
  }

  @Builder
  ChatListSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹4ï¼šå®æˆ˜æ¡ˆä¾‹ - èŠå¤©åˆ—è¡¨')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      List() {
        ForEach(this.chatList, (item: ListItemData) => {
          ListItem() {
            Row({ space: 12 }) {
              Text(item.icon)
                .fontSize(40)

              Column({ space: 4 }) {
                Text(item.title)
                  .fontSize(16)
                  .fontWeight(FontWeight.Medium)

                Text(item.desc)
                  .fontSize(14)
                  .fontColor('#999')
                  .maxLines(1)
                  .textOverflow({ overflow: TextOverflow.Ellipsis })
              }
              .alignItems(HorizontalAlign.Start)
              .layoutWeight(1)

              Text('12:30')
                .fontSize(12)
                .fontColor('#999')
            }
            .width('100%')
            .padding(12)
            .backgroundColor(Color.White)
            .borderRadius(8)
          }
        }, (item: ListItemData) => item.title)
      }
      .width('100%')
      .height(300)
    }
    .width('100%')
  }

  @Builder
  SettingsListSection() {
    Column({ space: 12 }) {
      Text('ç¤ºä¾‹5ï¼šå®æˆ˜æ¡ˆä¾‹ - è®¾ç½®åˆ—è¡¨')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)

      List({ space: 1 }) {
        ForEach(this.settingsList, (item: SettingItem) => {
          ListItem() {
            Row({ space: 12 }) {
              Text(item.icon)
                .fontSize(24)

              Text(item.title)
                .fontSize(16)
                .layoutWeight(1)

              Text('>')
                .fontSize(16)
                .fontColor('#999')
            }
            .width('100%')
            .height(50)
            .padding({ left: 16, right: 16 })
            .backgroundColor(Color.White)
          }
        }, (item: SettingItem) => item.title)
      }
      .width('100%')
      .height(280)
      .borderRadius(8)
      .divider({
        strokeWidth: 1,
        color: '#F0F0F0',
        startMargin: 52,
        endMargin: 0
      })
    }
    .width('100%')
  }

  @Builder
  BackButton() {
    Row() {
      Button('â† è¿”å›')
        .fontSize(14)
        .onClick(() => {
          router.back()
        })
    }
    .width('100%')
    .margin({ bottom: 10 })
  }

  @Builder
  SectionTitle(title: string) {
    Text(title)
      .fontSize(24)
      .fontWeight(FontWeight.Bold)
      .width('100%')
  }

  @Builder
  InfoCard(info: string) {
    Text(info)
      .fontSize(14)
      .fontColor('#13C2C2')
      .width('100%')
      .padding(12)
      .backgroundColor('#E6FFFE')
      .borderRadius(8)
  }

  @Builder
  TipCard(tip: string) {
    Text(tip)
      .fontSize(12)
      .fontColor('#FF6B6B')
      .width('100%')
      .padding(12)
      .backgroundColor('#FFF5F5')
      .borderRadius(8)
  }
}
